diff -burN bdiff-1.0.4.orig/Makefile bdiff-1.0.4/Makefile
--- bdiff-1.0.4.orig/Makefile	2004-03-08 17:47:48.504405544 +0100
+++ bdiff-1.0.4/Makefile	2004-03-08 17:50:03.583870344 +0100
@@ -2,19 +2,16 @@
 # _LIBC define for md5.o is needed on bigendian machines
 
 bdiff: bdiff.c lib/md5.o
-	cc -O2 -Wall -Wno-parentheses lib/md5.o bdiff.c -o bdiff
-	strip bdiff
+	$(CC) $(CFLAGS) lib/md5.o bdiff.c -o bdiff
 
 ppc: search.s bdiff.c lib/md5.o
-	cc -O2 -Wall -Wno-parentheses -DPPCASM lib/md5.o search.s bdiff.c -o bdiff
-	strip bdiff
+	$(CC) $(CFLAGS) -DPPCASM lib/md5.o search.s bdiff.c -o bdiff
 
 nommap: bdiff.c lib/md5.o
-	cc -O2 -Wall -Wno-parentheses -DNOMMAP lib/md5.o bdiff.c -o bdiff
-	strip bdiff
+	$(CC) $(CFLAGS) -DNOMMAP lib/md5.o bdiff.c -o bdiff
 
 lib/md5.o:
-	cc -O2 -D_LIBC -c lib/md5.c -o lib/md5.o
+	$(CC) $(CFLAGS) -c lib/md5.c -o lib/md5.o
 
 clean:
 	rm -f bdiff search.o lib/md5.o
